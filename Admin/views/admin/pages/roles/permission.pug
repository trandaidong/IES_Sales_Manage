extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main 
    if(role.PERMISSION.includes("roles_permission"))
        +alert-error(3000)
        +alert-success(3000)
        .card.mb-3 
            .card-header.text-center PHÂN QUYỀN 
            .card-body 
                if(records)
                    div(data-records=records) 

                    div(class="text-right")
                        button(
                            type="submit"
                            class="btn btn-primary mb-3"
                            button-submit
                        ) Cập nhật 
                    table(
                        class="table table-hover table-sm"
                        table-permissions
                    )
                        thead 
                            tr  
                                th Tính năng 
                                each item in records
                                    th(class="text-center") #{item.TITLE} 
                        tbody 
                            tr(data-name="id" class="d-none") 
                                td
                                    each item in records
                                        td(class="text-center") 
                                            input(type="text" value=item.ROLEID) 
                            //-  danh mục sản phẩm 
                            tr 
                                td(colspan="4")
                                    b Danh mục
                            tr(data-name="categories_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="categories_create")
                                td Thêm mới 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 
                            
                            tr(data-name="categories_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            tr(data-name="categories_delete")
                                td Xóa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            //-  sản phẩm 
                            tr 
                                td(colspan="4")
                                    b Sản phẩm 
                            tr(data-name="products_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="products_create")
                                td Thêm mới 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 
                            
                            tr(data-name="products_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            tr(data-name="products_delete")
                                td Xóa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            //-  Đơn hàng
                            tr 
                                td(colspan="4")
                                    b Đơn hàng
                            tr(data-name="orders_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="orders_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  

                            //- Tài khoản 
                            tr 
                                td(colspan="4")
                                    b Tài khoản 
                            tr(data-name="accounts_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="accounts_create")
                                td Thêm mới 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 
                            
                            tr(data-name="accounts_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            tr(data-name="accounts_delete")
                                td Xóa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  

                            //- Khách hàng 
                            tr 
                                td(colspan="4")
                                    b Khách hàng
                            tr(data-name="customers_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="customers_create")
                                td Thêm mới 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 
                            
                            tr(data-name="customers_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            tr(data-name="customers_delete")
                                td Xóa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  

                            //- Doanh thu
                            tr 
                                td(colspan="4")
                                    b Doanh thu
                            tr(data-name="statistics_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     

                            //-  nhóm quyền
                            tr 
                                td(colspan="4")
                                    b Nhóm quyền 
                            tr(data-name="roles_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="roles_create")
                                td Thêm mới 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 
                            
                            tr(data-name="roles_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  
                            
                            tr(data-name="roles_delete")
                                td Xóa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 

                            tr(data-name="roles_permission")
                                td Phân quyền
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox") 

                            //- Cài đặt
                            tr 
                                td(colspan="4")
                                    b Cài đặt
                            tr(data-name="settings_view")
                                td Xem 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")     
                            tr(data-name="settings_update")
                                td Chỉnh sửa 
                                each item in records
                                    td(class="text-center") 
                                        input(type="checkbox")  


        form(
            id="form-change-permissions"
            method="POST"
            action=`${prefixAdmin}/roles/permission?_method=PATCH`
            class="d-none"
        )
            div(class="form-group")
                input(
                    class="text"
                    class="form-control"
                    name="permissions"
                )

        script(src="/admin/js/roles.js")